<!-- app/src/main/assets/www/error.html  -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
</head>

<body>
<div style="width:90%; margin:0 auto;">
    <h1 style="text-align:center; font-size:45px; color:#292929; margin-bottom:45px; font-family:'돋움', dotum, '굴림', gulim, arial, helvetica, sans-serif;">앗!</h1>
    <p style="font-size:14px; color:#292929; font-weight:bold;text-align:center; margin-bottom:25px; font-family:'돋움', dotum, '굴림', gulim, arial, helvetica, sans-serif;">
        예상치 못한 오류가 발생했어요. 밑의 정보를 참조해서 오류를 해결하신 후 다시 시도해 보세요.
    </p>
    <ul style="margin:25px auto; width:80%; color:#47597f; font-size:14px; text-align:left; background-color:#e5eaf5; padding:15px 25px; line-height:150%; list-style:none; border:1px solid #cfd8ec; font-family:'돋움', dotum, '굴림', gulim, arial, helvetica, sans-serif;">
        <center>오류 정보</center><br>
        오류 코드: <font id="error-code" color="#e80000"></font><br>
        오류 정보: <span id="error-detail"></span>
        예상 해결책: <span id="error-guide"></span><br>
    </ul>
    <p style="background-color:#2357ac; padding:10px; margin:0 auto; width:200px; text-align:center; font-family:'돋움', dotum, '굴림', gulim, arial, helvetica, sans-serif;">
        <a style="font-size:13px; color:#FFF; text-decoration:none; font-family:'돋움', dotum, '굴림', gulim, arial, helvetica, sans-serif;" onClick="history.go(-1);">새로 고침</a>
    </p>
</div>
</body>

<script>
    var urlParams = new URLSearchParams(window.location.search);

    var errorCode = urlParams.get('errorCode');
    var errorDescription = urlParams.get('errorDescription');

    document.getElementById("error-code").innerHTML = errorDescription;
    
    // 오류 코드에 맞춰 적절히 안내 문구를 작성해준다.
    switch(errorCode) {
        case '-2': // net::ERR_INTERNET_DISCONNECTED 오류인 경우
            document.getElementById('error-detail').innerHTML = '인터넷에 접속할 수 없어요.<br>';
            document.getElementById('error-guide').innerHTML = 'Wi-Fi를 확인해주세요.<br>';
            break;
        case '-11':
            document.getElementById('error-detail').innerHTML = '서버를 검증할 수 없어요.<br>';
            document.getElementById('error-guide').innerHTML = '프록시 설정 또는 인터넷 연결을 확인해 주세요.<br>';
            break;
        case '-9':
            document.getElementById('error-detail').innerHTML = '리디렉션이 너무 많아요. 일시적인 서버 오류이거나 인터넷 연결에 문제가 있을 수 있어요.<br>';
            document.getElementById('error-guide').innerHTML = '잠시 후 다시 시도하시거나 인터넷 연결을 확인해 주세요.<br>';
            break;
        case '-8':
            document.getElementById('error-detail').innerHTML = '응답이 너무 오래 걸려요.<br>';
            document.getElementById('error-guide').innerHTML = '인터넷 연결을 확인해 주세요.<br>';
            break;
        case '-1':
            document.getElementById('error-detail').innerHTML = '알 수 없는 오류가 발생했어요.<br>';
            document.getElementById('error-guide').innerHTML = '일시적인 오류일 가능성이 높아요. 잠시 후 다시 시도해 주세요.<br>';
            break;
        default:
            document.getElementById('error-detail').innerHTML = '알 수 없는 오류가 발생했어요.<br>';
            document.getElementById('error-guide').innerHTML = '일시적인 오류일 가능성이 높아요. 잠시 후 다시 시도해 주세요.<br>';
    }
</script>

</html>